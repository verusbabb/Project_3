(this.webpackJsonpproject3=this.webpackJsonpproject3||[]).push([[0],{136:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(34),i=c.n(r),s=(c(59),c(60),c(0));var o=function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row valign",children:[Object(s.jsx)("div",{className:"col l6 m5",children:Object(s.jsx)("div",{className:"card-panel transparentBG no-shadows",children:Object(s.jsx)("h1",{className:"white-text",children:"Welcome to Trip Planner"})})}),Object(s.jsx)("div",{className:"col l6 m5",children:Object(s.jsx)("div",{className:"card-panel transparentBG no-shadows",children:Object(s.jsx)("h5",{className:"white-text",children:"Here you can plan every last detail of your next vacation / getaway and ensure nothing is left behind."})})})]})})};var l=function(){return Object(s.jsx)(o,{})},d=c(22),j=c(4),b=c(7);function u(e){var t=e.size,c=e.children;return Object(s.jsx)("div",{className:t.split(" ").map((function(e){return"col "+e})).join(" "),children:c})}function h(e){return Object(s.jsx)("div",{className:"container",children:e.children})}function O(e){return Object(s.jsx)("div",{className:"row",children:e.children})}c(62);var m=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(h,{children:Object(s.jsx)("div",{className:"card  no-shadows center-align",children:Object(s.jsx)("div",{className:"card-content",children:e.children})})})})},p=c(3);c(63);var x=function(e){return Object(s.jsx)("span",Object(p.a)(Object(p.a)({className:"delete-btn "},e),{},{role:"button",tabIndex:"0",children:Object(s.jsx)("i",{className:"material-icons",children:"delete"})}))};var f=function(e){var t=e.children;return Object(s.jsx)("div",{style:{clear:"both",padding:"1vh",textAlign:"center"},className:"jumbotron",children:t})};c(64);function g(e){var t=e.children;return Object(s.jsx)("div",{className:"list-overflow-container",children:Object(s.jsx)("ul",{className:"list-group",children:t})})}var v=c(9),N=c.n(v),y={getUsers:function(){return N.a.get("/api/users")},getUser:function(e){return N.a.get("/api/users/"+e)},getUserByUsername:function(e){return N.a.get("/api/username/"+e)},deleteUser:function(e){return N.a.delete("/api/users/"+e)},saveUser:function(e){return console.log(e),N.a.post("/api/users/signup",e)},saveTrip:function(e){return console.log(e),N.a.post("/api/users/:id",e)},findOneUser:function(e){return console.log(e),N.a.post("/api/users/login",{username:e.userName,password:e.password})},signOut:function(){return console.log("signing out"),N.a.get("/api/users/signout")},getTrips:function(){return N.a.get("/api/trips")},getTrip:function(e){return N.a.get("/api/trips/"+e)},findTripByTripId:function(e){return N.a.get("/api/trips/tripId/"+e.tripId)},updateTrip:function(e,t){return N.a.put("/api/trips/"+e,{members:t.members})},deleteTrip:function(e){return N.a.delete("/api/trips/"+e)},createExpense:function(e,t){return N.a.post("/api/trips/".concat(e),t)},deleteExpense:function(e){return N.a.delete("/api/trips/expenses/"+e)},createSchedule:function(e,t){return N.a.post("/api/trips/schedule/".concat(e),t)},deleteSchedule:function(e){return N.a.delete("/api/trips/schedule/"+e)},createCollection:function(e,t){return N.a.post("/api/trips/collection/".concat(e),t)},createCollectionItem:function(e,t){return N.a.put("/api/trips/collection/".concat(e),t)},deleteCollection:function(e){return N.a.delete("/api/trips/collection/"+e)}},D=c(28),S=Object(n.createContext)({id:"",userName:"",firstName:"",lastName:"",isAuthenticated:"false",memberOf:[]}),w=S.Provider;function T(e,t){switch(t.type){case"add":var c=Object(p.a)(Object(p.a)({},e),{},{id:t.id,userName:t.userName,firstName:t.firstName,lastName:t.lastName,memberOf:t.memberOf,isAuthenticated:t.isAuthenticated});return localStorage.setItem("user",JSON.stringify(c)),c;case"remove":return e.filter((function(e,c){return c!==t.index}));case"update":var n=Object(p.a)(Object(p.a)({},e),{},{memberOf:t.memberOf});return localStorage.setItem("user",JSON.stringify(n)),Object(p.a)(Object(p.a)({},e),{},{memberOf:t.memberOf});case"timeOut":return Object(p.a)(Object(p.a)({},e),{},{userName:"",firstName:"",lastName:"",memberOf:[],isAuthenticated:"false"});default:return e}}var C=JSON.parse(localStorage.getItem("user"))?JSON.parse(localStorage.getItem("user")):[];function k(e){e.value;var t=Object(D.a)(e,["value"]),c=Object(n.useReducer)(T,C),a=Object(j.a)(c,2),r=a[0],i=a[1];return Object(s.jsx)(w,Object(p.a)({value:{state:r,dispatch:i}},t))}function I(){return Object(n.useContext)(S)}c(83);function A(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(h,{children:Object(s.jsx)("table",{children:e.children})})})}function B(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("tbody",{children:e.children})})}function E(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("thead",{children:Object(s.jsx)("tr",{children:e.children})})})}var F=c(29),U=c.n(F);var z=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=(t[0],t[1],Object(n.useState)([])),a=Object(j.a)(c,2),r=a[0],i=a[1],o=I().state,l=Object(n.useState)(""),d=Object(j.a)(l,2),p=(d[0],d[1],Object(n.useState)([])),v=Object(j.a)(p,2),N=(v[0],v[1],Object(n.useState)({})),D=Object(j.a)(N,2),S=D[0],w=D[1],T=Object(n.useState)({}),C=Object(j.a)(T,2),k=C[0],F=C[1];function U(e){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&cnt=1&units=imperial&appid=").concat("c6a936905a8566bfdc4cca37ff190c24")).then((function(e){return e.json()})).then((function(e){console.log(e),F(e)}))}function z(){y.getUser(o.id).then((function(e){i(e.data),console.log(r);for(var t=0;t<e.data.memberOf.length;t++){var c=e.data.memberOf[t].startDate,n=e.data.memberOf[t].endDate,a=Date.parse(c),s=Date.parse(n);a<=Date.now()&&s>=Date.now()?(console.log(S,"true"),w(e.data.memberOf[t]),U(e.data.memberOf[t].tripName)):console.log("false")}})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){z()}),[]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(h,{children:[Object(s.jsx)(m,{children:Object(s.jsx)(f,{children:Object(s.jsxs)("h1",{children:["Welcome ",null===o||void 0===o?void 0:o.firstName," ",null===o||void 0===o?void 0:o.lastName,"!"]})})}),"{}"!==JSON.stringify(k)?Object(s.jsx)(m,{children:Object(s.jsx)(O,{children:Object(s.jsxs)(u,{size:"m12",children:[Object(s.jsx)("h3",{children:"Current Trip Forecast"}),Object(s.jsx)("h4",{children:S.tripName}),Object(s.jsx)(m,{children:Object(s.jsxs)(O,{children:[Object(s.jsxs)(u,{size:"m4 s12",children:[Object(s.jsx)("img",{src:"https://openweathermap.org/img/w/".concat(k.weather[0].icon,".png")}),Object(s.jsx)("p",{children:k.weather[0].description})]}),Object(s.jsxs)(u,{size:"m8 s12",children:[Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:["Temperature: ",k.main.temp,"\xb0F"]}),Object(s.jsxs)("p",{children:["Feels Like: ",k.main.feels_like,"\xb0F"]}),Object(s.jsxs)("p",{children:["Humidity: ",k.main.humidity,"%"]})]})]})})]})})}):"","{}"!==JSON.stringify(S)?Object(s.jsx)(m,{children:Object(s.jsx)(O,{children:Object(s.jsxs)(u,{size:"m12",children:[Object(s.jsx)("h3",{children:"Current Trip Schedule"}),Object(s.jsx)("h4",{children:S.tripName}),Object(s.jsx)(b.b,{to:"/trips/"+S._id,children:"Go to Dashboard to add an activity"}),Object(s.jsxs)(A,{children:[Object(s.jsxs)(E,{children:[Object(s.jsx)("th",{children:"Date"}),Object(s.jsx)("th",{children:"Activity"}),Object(s.jsx)("th",{children:"Time"})]}),Object(s.jsx)(B,{children:S.tripSchedule.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.activityDate}),Object(s.jsx)("td",{children:e.activityName}),Object(s.jsx)("td",{children:e.startTime})]},t)}))})]})]})})}):"",Object(s.jsx)(m,{children:Object(s.jsx)(O,{children:Object(s.jsxs)(u,{size:"m12 s12",children:[Object(s.jsx)("h2",{children:"My Trips"}),Object(s.jsx)(b.b,{to:"/createtrip",children:"+ Add a trip"}),r.memberOf?Object(s.jsx)(g,{children:r.memberOf.map((function(e,t){return Object(s.jsxs)(m,{children:[Object(s.jsx)(b.b,{to:"/trips/"+e._id,children:Object(s.jsx)("strong",{children:e.tripName})}),Object(s.jsx)(x,{onClick:function(){return t=e._id,void y.deleteTrip(t).then((function(){return z()})).catch((function(e){return console.log(e)}));var t}}),Object(s.jsxs)("p",{children:["Dates: ",e.startDate," to ",e.endDate]}),Object(s.jsxs)("p",{children:["Trip ID: ",e.tripId]})]},t)}))}):Object(s.jsx)("h3",{children:"No Results to Display"})]})})})]})})},P=c(8),_=c(6);var M=c(12);function G(e){return Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",Object(p.a)({className:"form-control"},e))})}function J(e){return Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("textarea",Object(p.a)({className:"form-control",rows:"30"},e))})}function W(e){return Object(s.jsx)("button",Object(p.a)(Object(p.a)({},e),{},{style:{float:"right",marginBottom:10},className:"btn btn-success",children:e.children}))}var L=function(){var e=Object(n.useState)({}),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(),i=Object(j.a)(r,2),o=(i[0],i[1]),l=Object(n.useState)({}),d=Object(j.a)(l,2),h=d[0],f=d[1],g=I().state,v=Object(P.h)().id;function N(){y.getTrip(v).then((function(e){o(e.data),a(e.data.tripCollections)})).catch((function(e){return console.log(e)}))}function D(e){var t=e.target,c=t.name,n=t.value;f(Object(p.a)(Object(p.a)({},h),{},Object(M.a)({},c,n)))}function S(){document.getElementById("add-collection-form").reset(),f({collectionName:"",collectionDescription:"",itemName:"",itemUrl:"",itemDescription:""})}return Object(n.useEffect)((function(){N()}),[v]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(m,{children:[Object(s.jsx)(O,{children:Object(s.jsxs)(u,{size:"m12 s12",children:[Object(s.jsx)("h1",{children:"Idea Board"}),Object(s.jsx)("br",{}),Object(s.jsx)(_.Modal,{actions:[Object(s.jsx)(_.Button,{flat:!0,modal:"close",node:"button",waves:"green",children:"Close"}),Object(s.jsx)(_.Button,{className:"modal-close",onClick:function(e){console.log(g),e.preventDefault(),h.collectionName&&y.createCollection(v,{collectionName:h.collectionName,collectionDescription:h.collectionDescription}).then((function(e){console.log(e),N(),S()})).catch((function(e){return console.log(e)}))},children:"Add"})],bottomSheet:!1,fixedFooter:!1,header:"Add a Category",id:"Modal-0",open:!1,options:{dismissible:!0,endingTop:"10%",inDuration:250,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"4%"},trigger:Object(s.jsx)(b.b,{to:"",node:"button",children:"+ Add a Category"}),children:Object(s.jsxs)("form",{id:"add-collection-form",children:[Object(s.jsx)(G,{onChange:D,name:"collectionName",placeholder:"Name of the Category"}),Object(s.jsx)(J,{onChange:D,name:"collectionDescription",placeholder:"(Optional) Add any necessary details here"})]})})]})}),Object(s.jsx)(O,{children:Object(s.jsx)(u,{size:"m12 s12",children:c.length?Object(s.jsx)(_.Collapsible,{accordion:!1,children:c.map((function(e,t){return Object(s.jsxs)(_.CollapsibleItem,{expanded:!1,header:e.collectionName,node:"div",children:[e.collectionDescription,Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)(_.Modal,{actions:[Object(s.jsx)(_.Button,{flat:!0,modal:"close",node:"button",waves:"green",children:"Close"}),Object(s.jsx)(_.Button,{className:"modal-close",onClick:function(){return t=e._id,void(h.itemName&&(console.log(h,t),y.createCollectionItem(t,{itemName:h.itemName,itemUrl:h.itemUrl,itemDescription:h.itemDescription,itemSubmitter:g.firstName}).then((function(e){N(),S()})).catch((function(e){return console.log(e)}))));var t},children:"Add"})],bottomSheet:!1,fixedFooter:!1,header:"Add an Item",id:"collectionItem",className:"modal",open:!1,options:{container:"body",dismissible:!0,endingTop:"10%",inDuration:250,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"4%"},trigger:Object(s.jsx)(b.b,{node:"button",children:"+ Add an Item to this Collection"}),children:[Object(s.jsx)(G,{onChange:D,name:"itemName",value:h.itemName,placeholder:"Item Name"}),Object(s.jsx)(G,{onChange:D,name:"itemUrl",value:h.itemUrl,placeholder:"(Optional) Enter a link"}),Object(s.jsx)(J,{onChange:D,name:"itemDescription",value:h.itemDescription,placeholder:"(Optional) Add a description"})]}),e.collectionItems.length?Object(s.jsxs)(A,{children:[Object(s.jsxs)(E,{children:[Object(s.jsx)("th",{children:"Idea"}),Object(s.jsx)("th",{children:"URL"}),Object(s.jsx)("th",{children:"By"})]}),Object(s.jsx)(B,{children:e.collectionItems.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.itemName}),Object(s.jsx)("td",{children:Object(s.jsx)("a",{href:e.itemUrl,target:"_blank",rel:"noreferrer",children:"Link"})}),Object(s.jsx)("td",{children:e.itemSubmitter})]},t)}))})]}):Object(s.jsx)("p",{children:"to get started"}),Object(s.jsx)(x,{onClick:function(){return t=e._id,void y.deleteCollection(t).then((function(e){N()})).catch((function(e){return console.log(e)}));var t}})]},t)}))}):Object(s.jsx)("p",{children:"No idea categories started yet!"})})})]})})};var q=function(){var e=Object(n.useState)({}),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)({}),i=Object(j.a)(r,2),o=(i[0],i[1]),l=Object(n.useState)({}),d=Object(j.a)(l,2),h=d[0],f=d[1],g=I().state,v=Object(P.h)().id;function N(){y.getTrip(v).then((function(e){o(e.data),a(e.data.tripExpenses)})).catch((function(e){return console.log(e)}))}function D(e){var t=e.target,c=t.name,n=t.value;f(Object(p.a)(Object(p.a)({},h),{},Object(M.a)({},c,n)))}return Object(n.useEffect)((function(){N()}),[v]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(m,{children:[Object(s.jsx)(O,{children:Object(s.jsxs)(u,{size:"m12 s12",children:[Object(s.jsx)("h1",{children:"Expenses"}),Object(s.jsx)("br",{}),Object(s.jsx)(_.Modal,{actions:[Object(s.jsx)(_.Button,{flat:!0,modal:"close",node:"button",waves:"green",children:"Close"}),Object(s.jsx)(_.Button,{onClick:function(e){console.log(g),e.preventDefault(),h.expenseAmount&&y.createExpense(v,{expenseDescription:h.expenseDescription,expenseAmount:h.expenseAmount,expenseSubmitter:g.firstName,expenseDate:document.getElementById("expenseDate").value}).then((function(e){console.log(e),N(),document.getElementById("add-expense-form").reset(),f({expenseDescription:"",expenseAmount:""})})).catch((function(e){return console.log(e)}))},className:"modal-close",children:"Add"})],bottomSheet:!1,fixedFooter:!1,header:"Add an Expense",id:"Modal-0",className:"modal",open:!1,options:{autoclose:!0,container:"body",dismissible:!0,endingTop:"10%",inDuration:250,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"4%"},trigger:Object(s.jsx)(b.b,{node:"button",children:"+ Add an Expense"}),children:Object(s.jsxs)("form",{id:"add-expense-form",children:[Object(s.jsx)(G,{onChange:D,name:"expenseDescription",placeholder:"Brief description of the expense"}),Object(s.jsx)(G,{onChange:D,name:"expenseAmount",placeholder:"Enter dollar amount here"}),Object(s.jsx)(_.DatePicker,{id:"expenseDate",name:"expenseDate",placeholder:"When did you make the purchase?",options:{autoClose:!0,container:"body"}})]})})]})}),Object(s.jsx)(O,{children:Object(s.jsx)(u,{size:"m12 s12",children:c.length?Object(s.jsxs)(A,{children:[Object(s.jsxs)(E,{children:[Object(s.jsx)("th",{children:"By"}),Object(s.jsx)("th",{children:"Entry"}),Object(s.jsx)("th",{children:"Cost"}),Object(s.jsx)("th",{children:"Date"})]}),Object(s.jsx)(B,{children:c.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.expenseSubmitter}),Object(s.jsx)("td",{children:e.expenseDescription}),Object(s.jsxs)("td",{children:["$",e.expenseAmount]}),Object(s.jsx)("td",{children:e.expenseDate}),Object(s.jsx)("td",{children:Object(s.jsx)(x,{onClick:function(){return t=e._id,void y.deleteExpense(t).then((function(e){N()})).catch((function(e){return console.log(e)}));var t}})})]},t)}))})]}):Object(s.jsx)("p",{children:"No expenses logged yet!"})})})]})})};var H=function(){var e=Object(n.useState)({}),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)({}),i=Object(j.a)(r,2),o=(i[0],i[1]),l=I().state,d=Object(n.useState)({}),h=Object(j.a)(d,2),f=h[0],g=h[1],v=Object(n.useState)(!1),N=Object(j.a)(v,2),D=(N[0],N[1],Object(P.h)().id);function S(){y.getTrip(D).then((function(e){o(e.data),console.log(e.data),function(e){console.log(e,"unsorted");var t=e.sort((function(e,t){return U()(e.activityDate+", "+e.startTime).valueOf()-U()(t.activityDate+", "+t.startTime).valueOf()}));console.log(t,"sorted"),a(t)}(e.data.tripSchedule)})).catch((function(e){return console.log(e)}))}function w(e){var t=e.target,c=t.name,n=t.value;g(Object(p.a)(Object(p.a)({},f),{},Object(M.a)({},c,n)))}return Object(n.useEffect)((function(){S()}),[D]),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(m,{children:Object(s.jsx)(O,{children:Object(s.jsxs)(u,{size:"m12 s12",children:[Object(s.jsx)("h1",{children:"Schedule"}),Object(s.jsx)("br",{}),Object(s.jsx)(_.Modal,{actions:[Object(s.jsx)(_.Button,{flat:!0,modal:"close",node:"button",waves:"green",children:"Close"}),Object(s.jsx)(_.Button,{onClick:function(e){console.log(l),e.preventDefault(),f.activityName&&y.createSchedule(D,{activityName:f.activityName,activityDate:document.getElementById("activityDate").value,activitySubmitter:l.firstName,startTime:document.getElementById("startTime").value,endTime:document.getElementById("endTime").value,activityDescription:f.activityDescription}).then((function(e){console.log(e.data.tripSchedule,"schedule test"),S(),document.getElementById("addScheduleForm").reset(),g({activityName:"",activityDescription:""})})).catch((function(e){return console.log(e)}))},className:"modal-close",children:"Add"})],bottomSheet:!1,fixedFooter:!1,header:"Add an Activity",id:"add-activity-modal",className:"modal",open:!1,options:{autoclose:!0,container:"body",dismissible:!0,endingTop:"10%",inDuration:250,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"4%"},trigger:Object(s.jsx)(b.b,{node:"button",children:"+ Add an Activity"}),children:Object(s.jsxs)("form",{id:"addScheduleForm",children:[Object(s.jsx)(G,{onChange:w,name:"activityName",value:f.activityName,placeholder:"What are you doing?"}),Object(s.jsx)(_.DatePicker,{id:"activityDate",name:"activityDate",value:f.activityDate,placeholder:"Date",options:{container:"body",autoClose:!0}}),Object(s.jsx)(_.TimePicker,{id:"startTime",name:"startTime",value:f.startTime,placeholder:"Start Time",options:{container:"body",autoClose:!0}}),Object(s.jsx)(_.TimePicker,{id:"endTime",name:"endTime",value:f.endTime,placeholder:"End Time",options:{container:"body",autoClose:!0}}),Object(s.jsx)(J,{onChange:w,name:"activityDescription",value:f.activityDescription,placeholder:"(Optional) Add any necessary details about the activity here"})]})}),c.length?Object(s.jsxs)(A,{children:[Object(s.jsxs)(E,{children:[Object(s.jsx)("th",{children:"Date"}),Object(s.jsx)("th",{children:"Activity"}),Object(s.jsx)("th",{children:"Time"})]}),Object(s.jsx)(B,{children:c.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.activityDate}),Object(s.jsx)("td",{children:e.activityName}),Object(s.jsx)("td",{children:e.startTime}),Object(s.jsx)("td",{children:Object(s.jsx)(x,{onClick:function(){return t=e._id,console.log(t),void y.deleteSchedule(t).then((function(e){S()})).catch((function(e){return console.log(e)}));var t}})})]},t)}))})]}):Object(s.jsx)("p",{children:"Nothing scheduled yet!"})]})})})})};var R=function(){var e=Object(n.useState)({members:[]}),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),o=(i[0],i[1],Object(n.useState)({})),l=Object(j.a)(o,2),d=l[0],p=(l[1],I().state,Object(P.h)().id);return Object(n.useEffect)((function(){y.getTrip(p).then((function(e){a(e.data),console.log(c)})).catch((function(e){return console.log(e)}))}),[d]),Object(s.jsxs)(h,{fluid:!0,children:[Object(s.jsxs)(m,{children:[Object(s.jsx)(O,{children:Object(s.jsxs)(u,{size:"m12 s12",children:[Object(s.jsx)(f,{children:Object(s.jsx)("h1",{children:c.tripName})}),Object(s.jsxs)("h3",{children:[c.startDate," to ",c.endDate]})]})}),Object(s.jsx)(O,{children:Object(s.jsx)(u,{size:"m12",children:Object(s.jsx)("p",{children:c.description})})})]}),Object(s.jsx)(m,{children:Object(s.jsx)(O,{children:Object(s.jsx)(u,{size:"m12 s12",children:Object(s.jsxs)("article",{children:[Object(s.jsx)("h2",{children:"Trip Members"}),Object(s.jsx)("br",{}),c.members.length?Object(s.jsx)(_.Collection,{children:c.members.map((function(e,t){return Object(s.jsxs)(_.CollectionItem,{children:[e.name.firstName+" "+e.name.lastName,Object(s.jsx)("br",{}),Object(s.jsxs)("span",{children:["Username: ",e.userName]})]},t)}))}):"",Object(s.jsx)("br",{}),Object(s.jsx)("h5",{children:"Send your friends this unique Trip ID to join:"}),Object(s.jsx)("h4",{children:c.tripId})]})})})}),Object(s.jsx)(L,{}),Object(s.jsx)(H,{}),Object(s.jsx)(q,{}),Object(s.jsx)(m,{children:Object(s.jsx)(O,{children:Object(s.jsx)(u,{size:"m12 s12",children:Object(s.jsx)(b.b,{to:"/dashboard",children:"\u2190 Back to Dashboard"})})})})]})},Y=c(17),K=c.n(Y),$=c(21);var Q=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=(t[0],t[1],Object(n.useState)({})),a=Object(j.a)(c,2),r=a[0],i=a[1],o=Object(n.useState)(!0),l=Object(j.a)(o,2),b=l[0],u=l[1],O=Object(n.useState)(!0),x=Object(j.a)(O,2),g=x[0],v=x[1],N=I(),D=N.state,S=N.dispatch,w=Object(P.g)();function T(e){var t=e.target,c=t.name,n=t.value;i(Object(p.a)(Object(p.a)({},r),{},Object(M.a)({},c,n)))}return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(h,{children:[Object(s.jsxs)(m,{children:[Object(s.jsx)(f,{children:Object(s.jsx)("h1",{children:"Find An Existing Trip"})}),Object(s.jsxs)("form",{children:[Object(s.jsx)(G,{onChange:T,name:"tripId",placeholder:"Insert 9 Character ID Here"}),Object(s.jsx)(_.Button,{disabled:!r.tripId,onClick:function(e){e.preventDefault(),r.tripId&&y.findTripByTripId({tripId:r.tripId}).then((function(e){console.log(e.data),y.updateTrip(e.data._id,{members:[].concat(Object(d.a)(e.data.members),[D.id])}).then(function(){var e=Object($.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data,"line 80 createtrip"),S({type:"update",memberOf:t.data.memberOf}),w.push("/dashboard");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){u(!1),v(!0),console.log(e)}))})).catch((function(e){u(!1),v(!0),console.log(e)}))},children:"Add"})]})]}),Object(s.jsxs)(m,{children:[Object(s.jsx)(f,{children:Object(s.jsx)("h1",{children:"Create a New Trip"})}),Object(s.jsxs)("form",{children:[Object(s.jsx)("h3",{children:"Trip Name"}),Object(s.jsx)(G,{onChange:T,name:"tripName",placeholder:"Where are you going?"}),Object(s.jsx)("h3",{children:"Trip Dates"}),Object(s.jsx)(_.DatePicker,{id:"startDate",name:"startDate",placeholder:"Start Date",options:{container:"body",autoClose:!0}}),Object(s.jsx)(_.DatePicker,{id:"endDate",name:"endDate",placeholder:"End Date",options:{container:"body",autoClose:!0}}),Object(s.jsx)(J,{onChange:T,name:"description",placeholder:"(Optional) What kind of trip is this, what are your hopes and dreams? Are you looking to accomplish anything specific?"}),Object(s.jsx)(_.Button,{disabled:!r.tripName,onClick:function(e){e.preventDefault(),console.log(D),r.tripName&&y.saveTrip({id:D.id,tripId:Math.random().toString(36).substr(2,9).toUpperCase(),tripName:r.tripName,startDate:document.getElementById("startDate").value,endDate:document.getElementById("endDate").value,description:r.description,members:[D.id]}).then(function(){var e=Object($.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),S({type:"update",memberOf:t.data.memberOf}),w.push("/dashboard");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){u(!1),v(!0),console.log(e)}))},children:"Create"}),!b&&Object(s.jsx)("div",{children:" Whoops! Please try again."}),!g&&Object(s.jsx)("div",{children:" Success! Your trip was created."})]})]})]})})};var V=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=(t[0],t[1],Object(n.useState)([])),a=Object(j.a)(c,2),r=(a[0],a[1],Object(n.useState)({})),i=Object(j.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)(!1),x=Object(j.a)(d,2),f=x[0],g=x[1],v=I(),N=v.state,D=v.dispatch;function S(e){var t=e.target,c=t.name,n=t.value;l(Object(p.a)(Object(p.a)({},o),{},Object(M.a)({},c,n)))}return Object(s.jsx)(h,{children:Object(s.jsx)(O,{children:Object(s.jsx)(u,{size:"l8 offset-l2 s12",children:Object(s.jsxs)(m,{children:[Object(s.jsx)(O,{children:Object(s.jsx)("h3",{children:"Sign Up for a New Account"})}),Object(s.jsxs)("form",{children:[Object(s.jsx)(G,{onChange:S,name:"userName",placeholder:"Username (required)"}),Object(s.jsx)(G,{onChange:S,name:"firstName",placeholder:"First Name (required)"}),Object(s.jsx)(G,{onChange:S,name:"lastName",placeholder:"Last Name (required)"}),Object(s.jsx)(G,{onChange:S,name:"password",type:"password",placeholder:"Password (required)"}),Object(s.jsx)(W,{disabled:!(o.userName&&o.firstName&&o.lastName&&o.password),onClick:function(e){e.preventDefault(),console.log(o.userName,o.firstName,o.lastName,o.password),o.userName&&o.firstName&&o.lastName&&o.password&&y.saveUser({userName:o.userName,name:{firstName:o.firstName,lastName:o.lastName},password:o.password}).then((function(e){y.findOneUser({userName:o.userName,password:o.password}).then(function(){var e=Object($.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),D({type:"add",id:t.data._id,userName:t.data.userName,firstName:t.data.name.firstName,lastName:t.data.name.lastName,memberOf:t.data.memberOf,isAuthenticated:"true"}),console.log(N);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(401)})),g(!0),setTimeout((function(){window.location.href="/dashboard/"}),2e3)})).catch((function(e){return console.log(e)}))},children:"Submit User"}),Object(s.jsx)(b.b,{to:"/login",children:"Already have an account? Log in here"}),f&&Object(s.jsx)("div",{children:" Success! Redirecting to Dashboard."})]})]})})})})};var X=function(){var e=Object(n.useState)({}),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!0),i=Object(j.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)(!0),h=Object(j.a)(d,2),x=h[0],f=h[1],g=Object(P.g)(),v=I(),N=(v.state,v.dispatch);function D(e){var t=e.target,n=t.name,r=t.value;a(Object(p.a)(Object(p.a)({},c),{},Object(M.a)({},n,r)))}return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"container login-box",children:Object(s.jsx)(O,{children:Object(s.jsx)(u,{size:"m12 s12",children:Object(s.jsxs)(m,{children:[Object(s.jsx)(O,{children:Object(s.jsx)("h3",{children:"Log Into an Existing Account"})}),Object(s.jsxs)("form",{children:[Object(s.jsx)(G,{onChange:D,name:"userName",placeholder:"Username"}),Object(s.jsx)(G,{onChange:D,name:"password",type:"password",placeholder:"Password"}),Object(s.jsx)(W,{disabled:!(c.userName&&c.password),onClick:function(e){e.preventDefault(),console.log(c.userName,c.password),c.userName&&c.password&&y.findOneUser({userName:c.userName,password:c.password}).then(function(){var e=Object($.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),f(!1),console.log(t),N({type:"add",id:t.data._id,userName:t.data.userName,firstName:t.data.name.firstName,lastName:t.data.name.lastName,memberOf:t.data.memberOf,isAuthenticated:"true"}),g.push("/dashboard");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){l(!1),f(!0),console.log(401)}))},children:"Log in"}),Object(s.jsx)(b.b,{to:"/signup",children:"Create a new account"}),!o&&Object(s.jsx)("div",{children:" Whoops! Please try again."}),!x&&Object(s.jsx)("div",{children:" Success! You are now logged in."})]})]})})})})})};var Z=function(){I().state;var e=Object(n.useState)(!0),t=Object(j.a)(e,2),c=t[0];return t[1],y.signOut().then((function(e){console.log("signout")})),localStorage.clear(),setTimeout((function(){window.location.href="/"}),2e3),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(h,{children:Object(s.jsx)(m,{children:Object(s.jsx)("p",{children:c&&Object(s.jsx)("span",{children:"You have been signed out. Redirecting to Home..."})})})})})},ee=(c(136),c(54));c(52);var te=function(){var e=I().state;return console.log(e),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("header",{children:Object(s.jsx)(_.Navbar,{className:"transparentBG no-shadows",children:Object(s.jsxs)("div",{children:[Object(s.jsx)(b.b,{to:"/",className:"brand-logo center",children:"Trip Planner"}),Object(s.jsx)("ul",{children:ee.map((function(t,c){return e.userName&&"in"===t.logged?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("li",{children:Object(s.jsx)(b.b,{to:t.linkTo,className:"btn transparentBG",children:t.linkName})},c)}):e.userName||"out"!==t.logged?void 0:Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("li",{children:Object(s.jsx)(b.b,{to:t.linkTo,className:"btn transparentBG",children:t.linkName})},c)})}))})]})})})})};c(137);var ce=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("footer",{className:"page-footer transparentBG",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col l8 s12",children:[Object(s.jsx)("h5",{className:"white-text",children:"Development Team"}),Object(s.jsx)("p",{className:"grey-text text-lighten-4",children:"We all got our start at KU's coding bootcamp!"})]}),Object(s.jsxs)("div",{className:"col l4 s12",children:[Object(s.jsx)("h5",{className:"white-text",children:"Dev Team GitHub"}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"white-text",href:"https://github.com/verusbabb",children:"Steve Babb"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"white-text",href:"https://github.com/koltondecker",children:"Kolton Decker"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"white-text",href:"https://github.com/cgouge93",children:"Carly Gouge"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"white-text",href:"https://github.com/cmoss703",children:"Christina Moss"})})]})]})]})})})})},ne=function(e){var t=e.component,c=Object(D.a)(e,["component"]),n=I().state;return Object(s.jsx)(P.b,Object(p.a)(Object(p.a)({},c),{},{render:function(e){return n.isAuthenticated?Object(s.jsx)(t,Object(p.a)({},e)):Object(s.jsx)(P.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var ae=function(){var e=I(),t=e.state,c=e.dispatch;return t.isAuthenticated&&function(){var e;function t(){alert("You are now logged out."),c({type:"logOut",isAuthenticated:"false"}),localStorage.removeItem("user"),location.href="/login"}function n(){clearTimeout(e),e=setTimeout(t,12e5)}window.onload=n,document.onmousemove=n,document.onkeydown=n}(),Object(s.jsxs)(b.a,{children:[Object(s.jsx)(te,{}),Object(s.jsx)("main",{className:"valign-wrapper",children:Object(s.jsxs)(P.d,{children:[Object(s.jsx)(P.b,{exact:!0,path:"/",children:Object(s.jsx)(l,{})}),Object(s.jsx)(ne,{exact:!0,path:"/dashboard",component:z}),Object(s.jsx)(ne,{exact:!0,path:"/trips/:id",component:R}),Object(s.jsx)(ne,{exact:!0,path:"/createtrip",component:Q}),Object(s.jsx)(ne,{exact:!0,path:"/trips/:id/schedule",component:H}),Object(s.jsx)(ne,{exact:!0,path:"/trips/:id/expenses",component:q}),Object(s.jsx)(P.b,{exact:!0,path:"/signup",children:Object(s.jsx)(V,{})}),Object(s.jsx)(P.b,{exact:!0,path:"/login",children:Object(s.jsx)(X,{})}),Object(s.jsx)(P.b,{exact:!0,path:"/signout",children:Object(s.jsx)(Z,{})})]})}),Object(s.jsx)(ce,{})]})};i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(k,{children:Object(s.jsx)(ae,{})})}),document.getElementById("root"))},54:function(e){e.exports=JSON.parse('[{"linkName":"Sign Up","linkTo":"/signup","logged":"out"},{"linkName":"Log In","linkTo":"/login","logged":"out"},{"linkName":"Dashboard","linkTo":"/dashboard","logged":"in"},{"linkName":"Sign Out","linkTo":"/signout","logged":"in"},{"linkName":"Create a Trip","linkTo":"/createtrip","logged":"in"}]')},59:function(e,t,c){},60:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},83:function(e,t,c){}},[[138,1,2]]]);
//# sourceMappingURL=main.66f79393.chunk.js.map